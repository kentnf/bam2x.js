<!DOCTYPE HTML>
<body>
<div id="figure" class="myDiv">
<h2> FIGURE </h2>
<div id="canvas">
</div>
</div>
</body>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="http://ajax.bam2x.net/bam2x.js/lib/bam2x.circos.js"></script>
<script src="http://ajax.bam2x.net/bam2x.js/lib/bam2x.lincos.js"></script>
<script>
    $(document).ready( function(L,C) {
      var svg = d3.select("#canvas").append("svg").attr("width",1500).attr("height",500);
      var ideogram1 = new C.IdeogramModel({"id":"lnc1","length":18,"color":"blue"});
      var ideogram2 = new C.IdeogramModel({"id":"lnc2","length":20,"color":"green"});
      var ideogram3 = new C.IdeogramModel({"id":"lnc3","length":30});
      //var ideogramView1 = new IdeogramView({"model":ideogram1,"el":svg.append("g")});
      //ideogramView1.render();
    
      //var ideogramView2 = new IdeogramView({"model":ideogram2,"el":svg.append("g"),"x":200,"y":200,"width":300,"height":5,"color":"blue"});
 
      //ideogramView2.render();
       var collection=[ideogram1,ideogram2,ideogram3];
       var ideogramTrack = new L.IdeogramTrack({"collection":collection,"el":svg.append("g"),"x":20,"y":50,"width":1000,"height":5,"color":"red",gap:20});
        ideogramTrack.render(true,true);
        var plot1=new C.PlotModel({"chr":"lnc1","values":new Array(9,-9,8,-8,7,-7,6,-6,5,-5,4,-4,3,-3,2,-2,1,-1)});
        var plot3=new C.PlotModel({"color":"red","chr":"lnc3","values":new Array(9,-9,8,-8,7,-7,6,-6,5,-5,4,-4,3,-3,2,-2,1,-1)});
        var plot2=new C.PlotModel({"color":"blue","chr":"lnc2","values":new Array(6,-6,5,-5,4,-4,3,-3,2,-2,1,-1)});
        plotView1=new L.PlotView({"model":plot1,"el":svg.append("g")});
       
        plotView2=new L.PlotView({"model":plot2,"el":svg.append("g")});
        //plotView2.render()
        plotView3=new L.PlotView({"model":plot3,"el":svg.append("g"),"x":100,"y":80,"height":100,"width":500});
        //plotView3.render()

        var plotsCollection=[plot2,plot1,plot3];
      
        var plotTrack = new L.PlotTrack({"collection":plotsCollection,"el":svg.append("g"),"y":100,"height":20});
         plotTrack.render(ideogramTrack);
         
         
        var bedGraph1 = new C.BedGraphModel({"chr":"lnc1","start":2,"end":5,"value":10})
	      var bedGraph3 = new C.BedGraphModel({"chr":"lnc1","start":5,"length":2,"value":5})
	      var bedGraph4 = new C.BedGraphModel({"chr":"lnc1","start":15,"end":18,"value":5})
	      var bedGraph2 = new C.BedGraphModel({"chr":"lnc2","start":2,"end":5,"value":5})
	      var c = [bedGraph1,bedGraph2,bedGraph3, bedGraph4];
	      var bedGraphTrack = new L.BedGraphTrack({'collection':c,'el':svg.append("g"),'y':200,'height':50});
	      bedGraphTrack.render(ideogramTrack);
    }(bam2x.lincos,bam2x.circos))

               
 
</script>
